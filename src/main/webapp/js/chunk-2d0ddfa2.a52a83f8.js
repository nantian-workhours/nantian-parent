(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ddfa2"],{"844d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-remind"}),t._v(" 请假管理")]),a("el-breadcrumb-item",[t._v(" 批量导入")])],1)],1),a("div",{staticClass:"container"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:10}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/work/ntLeave/importExcel.do","http-request":t.uploadReq,"file-list":t.fileList,"on-success":t.uploadSuccess,"on-error":t.uploadError,drag:!1,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.excel文件格式")])],1)],1),a("el-col",{attrs:{span:14}},[a("h5",{staticClass:"mgb10"},[t._v("上传结果")]),a("el-table",{attrs:{border:""}},[a("el-table-column",{attrs:{prop:"name",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"name",label:"总计导入数据"}}),a("el-table-column",{attrs:{prop:"name",label:"成功条数"}}),a("el-table-column",{attrs:{prop:"name",label:"失败条数"}})],1)],1)],1)],1)])},l=[],r=a("3ec5"),o=a.n(r),i={data:function(){return{form:{custType:""},fileList:[]}},methods:{submitUpload:function(){this.$refs.upload.submit()},uploadReq:function(t){var e=new FormData;e.append("myFile",t.file);var a={headers:{"Content-Type":"multipart/form-data"}};o.a.post(t.action,e,a).then(function(e){t.onSuccess(e.data)}).catch(function(e){var a=e.err;t.onError(a)})},uploadSuccess:function(t,e,a){if(200===t.code){var s=t.data.data["failNum "];s>0&&(this.$message.error(t.data.data.error),this.fileList=[])}else this.$message.error("文件上传失败: "+t.message),this.fileList=[]},uploadError:function(t){this.fileList=[],console.log(t)}}},n=i,c=a("305e"),u=Object(c["a"])(n,s,l,!1,null,"b7fe5648",null);e["default"]=u.exports}}]);