(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213cc6"],{ade2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-remind"}),t._v(" 工时管理")]),a("el-breadcrumb-item",[t._v(" 工时导入")])],1)],1),a("div",{staticClass:"container"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.form}},[a("el-form-item",{attrs:{label:"客户类别"}},[a("el-select",{attrs:{clearable:""},model:{value:t.form.custType,callback:function(e){t.$set(t.form,"custType",e)},expression:"form.custType"}},t._l(t.dictObj["cust"],function(t,e){return a("el-option",{key:e,attrs:{label:t.dicValue,value:t.dicCode}})}),1)],1)],1),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/work/workhours/importExcel.do","http-request":t.uploadReq,"file-list":t.fileList,"on-success":t.uploadSuccess,"on-error":t.uploadError,drag:!1,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.excel文件格式")])],1)],1),a("el-col",{attrs:{span:12}},[a("h5",{staticClass:"mgb10"},[t._v("上传结果")]),a("el-table",{attrs:{border:""}},[a("el-table-column",{attrs:{prop:"name",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"name",label:"总计导入数据"}}),a("el-table-column",{attrs:{prop:"name",label:"成功条数"}}),a("el-table-column",{attrs:{prop:"name",label:"失败条数"}})],1)],1)],1)],1)])},l=[],r=(a("a1bf"),a("e5df"),a("aa7b"),a("b328"),a("caf6")),o=a.n(r),i={data:function(){return{form:{custType:""},fileList:[]}},created:function(){this.dictObj=this.$store.state.dict.dictObj},methods:{submitUpload:function(){this.$refs.upload.submit()},uploadReq:function(t){var e=new FormData;e.append("myFile",t.file),e.append("custType",this.form.custType),e.append("jurisdiction",1);var a={headers:{"Content-Type":"multipart/form-data"}};o.a.post(t.action,e,a).then(function(e){t.onSuccess(e.data)}).catch(function(e){var a=e.err;t.onError(a)})},uploadSuccess:function(t,e,a){200===t.code||(this.$message.error("文件上传失败: "+t.message),this.fileList=[])},uploadError:function(t){this.fileList=[],console.log(t)}}},c=i,n=a("620d"),u=Object(n["a"])(c,s,l,!1,null,"62edd534",null);e["default"]=u.exports}}]);