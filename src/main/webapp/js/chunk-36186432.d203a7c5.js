(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36186432"],{"1b3c":function(t,i,e){var s;
/*!
 * sChart JavaScript Library v2.0.1
 * http://blog.gdfengshuo.com/example/sChart/ | Released under the MIT license
 * Date: 2018-04-16T18:59Z
 */
/*!
 * sChart JavaScript Library v2.0.1
 * http://blog.gdfengshuo.com/example/sChart/ | Released under the MIT license
 * Date: 2018-04-16T18:59Z
 */
(function(a,h){s=function(){return h(a)}.call(i,e,i,t),void 0===s||(t.exports=s)})(this,function(t){"use strict";function i(t,i,e,s){this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.dpi=window.devicePixelRatio||1,this.type=i,this.data=e,this.dataLength=this.data.length,this.showValue=!0,this.autoWidth=!1,this.width=this.canvas.width*this.dpi,this.height=this.canvas.height*this.dpi,this.topPadding=50*this.dpi,this.leftPadding=50*this.dpi,this.rightPadding=0*this.dpi,this.bottomPadding=50*this.dpi,this.yEqual=5,this.yLength=0,this.xLength=0,this.yFictitious=0,this.yRatio=0,this.bgColor="#ffffff",this.fillColor="#1E9FFF",this.axisColor="#666666",this.contentColor="#eeeeee",this.titleColor="#000000",this.title="",this.titlePosition="top",this.radius=100*this.dpi,this.innerRadius=70*this.dpi,this.colorList=["#1E9FFF","#13CE66","#F7BA2A","#FF4949","#72f6ff","#199475","#e08031","#726dd1"],this.legendColor="#000000",this.legendTop=40*this.dpi,this.totalValue=this.getTotalValue(),this.init(s)}return i.prototype={init:function(t){if(0===this.dataLength)return!1;if(t){var i=["topPadding","leftPadding","rightPadding","bottomPadding","radius","innerRadius","legendTop"];for(var e in t)"colorList"===e&&Array.isArray(t[e])?this[e]=t[e].concat(this[e]):i.indexOf(e)>-1?this[e]=t[e]*this.dpi:this[e]=t[e]}t.autoWidth?(this.width=this.canvas.width=this.canvas.parentNode.offsetWidth*this.dpi,this.height=this.canvas.height=this.canvas.parentNode.offsetHeight*this.dpi,this.canvas.setAttribute("style","width:"+this.canvas.parentNode.offsetWidth+"px;height:"+this.canvas.parentNode.offsetHeight+"px;")):(this.canvas.setAttribute("style","width:"+this.canvas.width+"px;height:"+this.canvas.height+"px;"),this.canvas.width*=this.dpi,this.canvas.height*=this.dpi),"bar"===this.type||"line"===this.type?(this.yLength=Math.floor((this.height-this.topPadding-this.bottomPadding-10)/this.yEqual),this.xLength=Math.floor((this.width-this.leftPadding-this.rightPadding-10)/this.dataLength),this.yFictitious=this.getYFictitious(this.data),this.yRatio=this.yLength/this.yFictitious,this.drawBarUpdate()):this.drawPieUpdate()},drawBarUpdate:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.width,this.height),this.drawAxis(),this.drawPoint(),this.drawTitle(),this.drawBarChart()},drawPieUpdate:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.width,this.height),this.drawLegend(),this.drawTitle(),this.drawPieChart()},drawBarChart:function(){this.ctx.fillStyle=this.fillColor,this.ctx.strokeStyle=this.fillColor;for(var t=0;t<this.dataLength;t++)this.data[t].left=this.leftPadding+this.xLength*(t+.25),this.data[t].top=this.height-this.bottomPadding-this.data[t].value*this.yRatio,this.data[t].right=this.leftPadding+this.xLength*(t+.75),this.data[t].bottom=this.height-this.bottomPadding,"line"===this.type?(this.ctx.beginPath(),this.ctx.arc(this.data[t].left+this.xLength/4,this.data[t].top,2,0,2*Math.PI,!0),this.ctx.fill(),0!==t&&(this.ctx.moveTo(this.data[t].left+this.xLength/4,this.data[t].top),this.ctx.lineTo(this.data[t-1].left+this.xLength/4,this.data[t-1].top)),this.ctx.stroke()):"bar"===this.type&&this.ctx.fillRect(this.data[t].left,this.data[t].top,this.data[t].right-this.data[t].left,this.data[t].bottom-this.data[t].top),this.showValue&&(this.ctx.font=12*this.dpi+"px Arial",this.ctx.fillText(this.data[t].value,this.data[t].left+this.xLength/4,this.data[t].top-5))},drawPieChart:function(){for(var t=this.width/2,i=this.height/2,e=0,s=0,a=0;a<this.dataLength;a++)this.ctx.beginPath(),this.ctx.fillStyle=this.colorList[a],this.ctx.moveTo(t,i),this.data[a].start=0===a?-Math.PI/2:this.data[a-1].end,this.data[a].end=this.data[a].start+this.data[a].value/this.totalValue*2*Math.PI,this.ctx.arc(t,i,this.radius,this.data[a].start,this.data[a].end),this.ctx.closePath(),this.ctx.fill(),this.data[a].middle=(this.data[a].start+this.data[a].end)/2,e=Math.ceil(Math.abs(this.radius*Math.cos(this.data[a].middle))),s=Math.floor(Math.abs(this.radius*Math.sin(this.data[a].middle))),this.ctx.strokeStyle=this.colorList[a],this.showValue&&(this.data[a].middle<=0?(this.ctx.textAlign="left",this.ctx.moveTo(t+e,i-s),this.ctx.lineTo(t+e+10,i-s-10),this.ctx.moveTo(t+e+10,i-s-10),this.ctx.lineTo(t+e+this.radius/2,i-s-10),this.ctx.stroke(),this.ctx.fillText(this.data[a].value,t+e+5+this.radius/2,i-s-5)):this.data[a].middle>0&&this.data[a].middle<=Math.PI/2?(this.ctx.textAlign="left",this.ctx.moveTo(t+e,i+s),this.ctx.lineTo(t+e+10,i+s+10),this.ctx.moveTo(t+e+10,i+s+10),this.ctx.lineTo(t+e+this.radius/2,i+s+10),this.ctx.stroke(),this.ctx.fillText(this.data[a].value,t+e+5+this.radius/2,i+s+15)):this.data[a].middle>Math.PI/2&&this.data[a].middle<Math.PI?(this.ctx.textAlign="right",this.ctx.moveTo(t-e,i+s),this.ctx.lineTo(t-e-10,i+s+10),this.ctx.moveTo(t-e-10,i+s+10),this.ctx.lineTo(t-e-this.radius/2,i+s+10),this.ctx.stroke(),this.ctx.fillText(this.data[a].value,t-e-5-this.radius/2,i+s+15)):(this.ctx.textAlign="right",this.ctx.moveTo(t-e,i-s),this.ctx.lineTo(t-e-10,i-s-10),this.ctx.moveTo(t-e-10,i-s-10),this.ctx.lineTo(t-e-this.radius/2,i-s-10),this.ctx.stroke(),this.ctx.fillText(this.data[a].value,t-e-5-this.radius/2,i-s-5)));"ring"===this.type&&(this.ctx.beginPath(),this.ctx.fillStyle=this.bgColor,this.ctx.arc(t,i,this.innerRadius,0,2*Math.PI),this.ctx.fill())},drawAxis:function(){this.ctx.beginPath(),this.ctx.strokeStyle=this.axisColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.leftPadding+.5,this.topPadding+.5),this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.width-this.rightPadding-.5,this.height-this.bottomPadding+.5),this.ctx.stroke()},drawPoint:function(){this.ctx.beginPath(),this.ctx.font=12*this.dpi+"px Microsoft YaHei",this.ctx.textAlign="center",this.ctx.fillStyle=this.axisColor;for(var t=0;t<this.dataLength;t++){var i=this.data[t].name,e=this.xLength*(t+1);this.ctx.moveTo(this.leftPadding+e+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.leftPadding+e+.5,this.height-this.bottomPadding+5.5),this.ctx.fillText(i,this.leftPadding+e-this.xLength/2,this.height-this.bottomPadding+15*this.dpi)}this.ctx.stroke(),this.ctx.beginPath(),this.ctx.font=12*this.dpi+"px Microsoft YaHei",this.ctx.textAlign="right",this.ctx.fillStyle=this.axisColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.leftPadding-4.5,this.height-this.bottomPadding+.5),this.ctx.fillText(0,this.leftPadding-10,this.height-this.bottomPadding+5);for(t=0;t<this.yEqual;t++){var s=this.yFictitious*(t+1),a=this.yLength*(t+1);this.ctx.beginPath(),this.ctx.strokeStyle=this.axisColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding-a+.5),this.ctx.lineTo(this.leftPadding-4.5,this.height-this.bottomPadding-a+.5),this.ctx.stroke(),this.ctx.fillText(s,this.leftPadding-10,this.height-this.bottomPadding-a+5),this.ctx.beginPath(),this.ctx.strokeStyle=this.contentColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding-a+.5),this.ctx.lineTo(this.width-this.rightPadding-.5,this.height-this.bottomPadding-a+.5),this.ctx.stroke()}},drawTitle:function(){this.title&&(this.ctx.beginPath(),this.ctx.textAlign="center",this.ctx.fillStyle=this.titleColor,this.ctx.font=16*this.dpi+"px Microsoft YaHei","bottom"===this.titlePosition&&this.bottomPadding>=40?this.ctx.fillText(this.title,this.width/2,this.height-5):this.ctx.fillText(this.title,this.width/2,this.topPadding/2+5))},drawLegend:function(){for(var t=0;t<this.dataLength;t++)this.ctx.fillStyle=this.colorList[t],this.ctx.fillRect(10,this.legendTop+15*t*this.dpi,20,11),this.ctx.fillStyle=this.legendColor,this.ctx.font=12*this.dpi+"px Microsoft YaHei",this.ctx.textAlign="left",this.ctx.fillText(this.data[t].name,35,this.legendTop+10+15*t*this.dpi)},getYFictitious:function(t){var i=t.slice(0);i.sort(function(t,i){return-(t.value-i.value)});var e=Math.ceil(i[0].value/this.yEqual),s=e.toString().length-1;return s=s>2?2:s,Math.ceil(e/Math.pow(10,s))*Math.pow(10,s)},getTotalValue:function(){for(var t=0,i=0;i<this.dataLength;i++)t+=this.data[i].value;return t}},i})},"21f4":function(t,i,e){"use strict";e.d(i,"b",function(){return r}),e.d(i,"a",function(){return n});e("38f0");var s=e("e660"),a=e.n(s),h=(e("a1bf"),e("e5df"),e("aa7b"),e("b328"),e("caf6")),o=e.n(h),l=e("d4aa");function r(t){return o.a.get(l["a"].params.subTypeQuery+"?dicType="+t)}function n(){var t=this;return new a.a(function(i,e){t.$axios.get(t.$api.department.findAll).then(function(s){if(200==s.code){var a=[],h=s.data.data;h.forEach(function(t){a.push({label:t.deptName,value:t.deptId})}),i(a)}else t.$message.error("部门列表数据查询失败: "+s.message),e(s.message)}).catch(function(i){t.$message.error("部门列表数据查询失败"),e("部门列表数据查询失败")})})}},"33cb":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-lx-recharge"}),t._v(" 统计查询")]),e("el-breadcrumb-item",[t._v(" 请假统计")])],1)],1),e("div",{staticClass:"container"},[e("el-tabs",{model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"按客户查",name:"first"}},[e("el-form",{ref:"custForm",attrs:{inline:!0,model:t.custForm,rules:t.custFormRules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"客户类别",prop:"custType"}},[e("el-select",{attrs:{clearable:""},model:{value:t.custForm.custType,callback:function(i){t.$set(t.custForm,"custType",i)},expression:"custForm.custType"}},t._l(t.dictObj["cust"],function(t,i){return e("el-option",{key:i,attrs:{label:t.dicValue,value:t.dicCode}})}),1)],1),e("el-form-item",{attrs:{label:"选择日期"}},[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{prop:"begDate"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"开始日期"},model:{value:t.custForm.begDate,callback:function(i){t.$set(t.custForm,"begDate",i)},expression:"custForm.begDate"}})],1)],1),e("el-col",{staticClass:"inline",staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v(" -")]),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{prop:"endDate"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"结束日期"},model:{value:t.custForm.endDate,callback:function(i){t.$set(t.custForm,"endDate",i)},expression:"custForm.endDate"}})],1)],1),e("el-button",{attrs:{type:"primary"}},[t._v("查询")])],1)],1)],1),e("el-tab-pane",{attrs:{label:"按部门查",name:"second"}},[e("el-form",{ref:"deptForm",attrs:{inline:!0,model:t.deptForm,rules:t.deptFormRules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"部门名称",prop:"deptId"}},[e("el-select",{attrs:{clearable:""},model:{value:t.deptForm.deptId,callback:function(i){t.$set(t.deptForm,"deptId",i)},expression:"deptForm.deptId"}},t._l(t.deptList,function(t,i){return e("el-option",{key:i,attrs:{label:t.label,value:t.value}})}),1)],1),e("el-form-item",{attrs:{label:"选择日期"}},[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{prop:"begDate"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"开始日期"},model:{value:t.deptForm.begDate,callback:function(i){t.$set(t.deptForm,"begDate",i)},expression:"deptForm.begDate"}})],1)],1),e("el-col",{staticClass:"inline",staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v(" -")]),e("el-col",{attrs:{span:6}},[e("el-form-item",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"结束日期"},model:{value:t.deptForm.endDate,callback:function(i){t.$set(t.deptForm,"endDate",i)},expression:"deptForm.endDate"}})],1)],1),e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.query("deptForm",t.deptForm)}}},[t._v("查询")])],1)],1)],1),e("el-tab-pane",{attrs:{label:"按员工查",name:"third"}},[e("el-form",{ref:"employForm",attrs:{inline:!0,model:t.employForm,rules:t.employFormRules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"姓名",prop:"name"}},[e("el-input",{attrs:{placeholder:"请输入姓名查询身份证号"},on:{input:function(i){return t.findByName(t.employForm)}},model:{value:t.employForm.name,callback:function(i){t.$set(t.employForm,"name",i)},expression:"employForm.name"}})],1),e("el-form-item",{attrs:{label:"身份证号",prop:"idNo"}},[e("el-input",{attrs:{readonly:"",placeholder:"根据姓名查询后自动带入"},model:{value:t.employForm.idNo,callback:function(i){t.$set(t.employForm,"idNo",i)},expression:"employForm.idNo"}})],1),e("el-form-item",{attrs:{label:"选择日期"}},[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{prop:"begDate"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"开始日期"},model:{value:t.employForm.begDate,callback:function(i){t.$set(t.employForm,"begDate",i)},expression:"employForm.begDate"}})],1)],1),e("el-col",{staticClass:"inline",staticStyle:{"text-align":"center"},attrs:{span:1}},[t._v(" -")]),e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{prop:"endDate"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"结束日期"},model:{value:t.employForm.endDate,callback:function(i){t.$set(t.employForm,"endDate",i)},expression:"employForm.endDate"}})],1)],1),e("el-button",{attrs:{type:"primary"}},[t._v("查询")])],1)],1)],1)],1),e("div",{staticClass:"schart-box"},[e("div",{staticClass:"content-title"},[t._v("时间: 2019-01至2019-03")]),e("schart",{staticClass:"schart",attrs:{canvasId:"pie",data:t.data,type:"pie",options:t.options}})],1),e("div",{staticClass:"schart-box"},[e("div",{staticClass:"content-title"},[t._v("时间: 2019-01至2019-03")]),e("schart",{staticClass:"schart",attrs:{canvasId:"pie2",data:t.data2,type:"pie",options:t.options2}})],1),e("el-dialog",{attrs:{width:"50%",title:"查询到多条信息, 请选择",visible:t.innerVisible,"append-to-body":"",height:"200"},on:{"update:visible":function(i){t.innerVisible=i}}},[e("el-table",{staticClass:"table",attrs:{data:t.employeeList,border:"",height:"260"}},[e("el-table-column",{attrs:{prop:"name",label:"员工姓名"}}),e("el-table-column",{attrs:{prop:"idNo",label:"身份证号"}}),e("el-table-column",{attrs:{prop:"mobileNo",label:"手机号"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.useData(i.row)}}},[t._v("使用")])]}}])})],1)],1)],1)])},a=[],h=(e("58b5"),e("94eb")),o=e("21f4"),l={data:function(){return{activeName:"first",custForm:{},deptForm:{},employForm:{},deptList:[],employeeList:[],innerVisible:!1,data:[{name:"调休",value:10},{name:"病假",value:2},{name:"事假",value:8},{name:"年假",value:1}],options:{title:"中国银行团队-请假统计(人)",legendColor:"#444",radius:120,innerRadius:80},data2:[{name:"调休",value:100},{name:"病假",value:20},{name:"事假",value:30},{name:"年假",value:10}],options2:{title:"中国银行团队-请假统计(小时)",legendColor:"#444",radius:120,innerRadius:80},custFormRules:{custType:[{required:!0,message:"请输入必填项",trigger:"blur"}],begDate:[{required:!0,message:"请输入必填项",trigger:"blur"}],endDate:[{required:!0,message:"请输入必填项",trigger:"blur"}]},deptFormRules:{deptId:[{required:!0,message:"请输入必填项",trigger:"blur"}],begDate:[{required:!0,message:"请输入必填项",trigger:"blur"}],endDate:[{required:!0,message:"请输入必填项",trigger:"blur"}]},employFormRules:{name:[{required:!0,message:"请输入必填项",trigger:"blur"}],idNo:[{required:!0,message:"请输入必填项",trigger:"blur"}],begDate:[{required:!0,message:"请输入必填项",trigger:"blur"}],endDate:[{required:!0,message:"请输入必填项",trigger:"blur"}]}}},components:{Schart:h["a"]},created:function(){var t=this;this.dictObj=this.$store.state.dict.dictObj,o["a"].call(this).then(function(i){t.deptList=i})},methods:{useData:function(t){this.innerVisible=!1,this.$set(this.employForm,"idNo",t.idNo),this.$set(this.employForm,"perId",t.perId)},findByName:function(t){var i=this,e=t.name;e&&this.$axios.postForm(this.$api.employee.findbyidandname,{name:e}).then(function(e){if(200===e.code){var s=e.data.data;if(!s.length)return i.$message.error("查不到员工信息"),void(t.idNo&&i.$set(t,"idNo",""));if(s.length>1)return i.innerVisible=!0,void(i.employeeList=s);i.$set(t,"idNo",s[0].idNo),i.$set(t,"perId",s[0].perId)}})},query:function(t,i){var e=this;this.$refs[t].validate(function(t){if(t){var s=i;s.begDate=e.formatDate(s.begDate,"yyyy-MM-dd"),s.endDate=e.formatDate(s.endDate,"yyyy-MM-dd"),delete s.endDate,e.$axios.postForm(e.$api.leave.leaveQuery,s).then(function(t){200===t.code?e.tableData=t.data.data:e.$message.error("查询失败")})}})}}},r=l,n=(e("f8c7"),e("620d")),d=Object(n["a"])(r,s,a,!1,null,"3969c3f2",null);i["default"]=d.exports},"89d9":function(t,i,e){},"94eb":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("canvas",{attrs:{id:t.canvasId}})])},a=[],h=e("1b3c"),o=e.n(h),l={data:function(){return{schart:null,opt:{}}},props:{canvasId:{type:String,default:""},type:{type:String,default:"bar"},data:{type:Array,default:[]},options:{type:Object,required:!1}},mounted:function(){this.renderChart()},methods:{renderChart:function(){this.schart=null,this.opt=this.options,this.width&&this.height||(this.opt?this.opt["autoWidth"]=!0:this.opt={autoWidth:!0}),this.schart=new o.a(this.canvasId,this.type,this.data,this.opt)}},watch:{data:function(){this.renderChart()},options:function(){this.renderChart()},type:function(){this.renderChart()}}},r=l;function n(t,i,e,s,a,h,o,l){var r,n="function"===typeof t?t.options:t;if(i&&(n.render=i,n.staticRenderFns=e,n._compiled=!0),s&&(n.functional=!0),h&&(n._scopeId="data-v-"+h),o?(r=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},n._ssrRegister=r):a&&(r=l?function(){a.call(this,this.$root.$options.shadowRoot)}:a),r)if(n.functional){n._injectStyles=r;var d=n.render;n.render=function(t,i){return r.call(i),d(t,i)}}else{var c=n.beforeCreate;n.beforeCreate=c?[].concat(c,r):[r]}return{exports:t,options:n}}var d=n(r,s,a,!1,null,null,null);i["a"]=d.exports},f8c7:function(t,i,e){"use strict";var s=e("89d9"),a=e.n(s);a.a}}]);